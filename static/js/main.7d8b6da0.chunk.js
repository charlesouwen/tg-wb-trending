(this.webpackJsonpdocs=this.webpackJsonpdocs||[]).push([[0],{27:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),s=n(20),r=n.n(s),i=n(8),l=(n(27),n(2)),d=n(1);var o=function(){return Object(d.jsx)("div",{className:"d-flex vh-100 text-center text-dark bg-white",children:Object(d.jsx)("div",{className:"d-flex h-100 p-3 mx-auto flex-column",style:{width:"42em",justifyContent:"center"},children:Object(d.jsxs)("main",{className:"px-3",children:[Object(d.jsx)("h1",{children:"\u5fae\u535a\u70ed\u641c\u805a\u5408"}),Object(d.jsxs)("p",{className:"lead",children:["\u4f7f\u7528github action\u805a\u5408\u5fae\u535a\u70ed\u641c\uff0c\u6bcf\u5c0f\u65f6\u5b9a\u65f6\u6267\u884c\u53d1\u9001\u5230",Object(d.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://t.me/weibo_hots",className:"text-danger",children:"telegram bot"}),"\u5e76\u5b58\u6863\u81f3github"]}),Object(d.jsxs)("p",{className:"lead",children:[Object(d.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://github.com/xiadd/tg-wb-trending",className:"btn btn-lg btn-dark fw-bold",children:"Github"}),Object(d.jsx)(i.b,{to:"/hots",className:"btn btn-lg btn-outline-dark fw-bold",style:{marginLeft:"1em"},children:"\u6f14\u793a"})]})]})})})},b=n(16),j=n.n(b),h=n(22),m=n(17),x=n(7),u=n.n(x),f=n(10),g=n.n(f);n(35);function O(){var e=new URLSearchParams(Object(l.f)().search),t=Object(l.g)(),n=Object(c.useState)([]),a=Object(m.a)(n,2),s=a[0],r=a[1],o=Object(c.useState)(!0),b=Object(m.a)(o,2),x=b[0],f=b[1],O=e.get("date"),p=O?u()(O).format("YYYY-MM-DD"):u()().format("YYYY-MM-DD"),N=function(){var e=Object(h.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.next=3,fetch("".concat("https://cdn.jsdelivr.net/gh/xiadd/tg-wb-trending@master","/api/").concat(p,".json"));case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,r(n),f(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){N()}),[p]),Object(d.jsxs)("div",{className:"hot-container",children:[Object(d.jsxs)("section",{className:"page-header bg-dark",children:[Object(d.jsx)("h1",{className:"hot-date font-bold",children:p}),Object(d.jsxs)("h5",{className:"hot-desc",children:["\u5171 ",Object(d.jsx)("b",{children:s.length||0})," \u6761\u5fae\u535a\u70ed\u641c"]}),!u()(p).subtract(1,"d").isBefore(u()("2020-12-27"))&&Object(d.jsx)(i.b,{to:"".concat(t.url,"?date=").concat(u()(p).subtract(1,"d").format("YYYY-MM-DD")),className:"btn btn-secondary fw-bold border-white bg-white text-dark mt-2",children:"\u524d\u4e00\u5929"}),!u()(p).add(1,"d").isAfter(u()())&&Object(d.jsx)(i.b,{to:"".concat(t.url,"?date=").concat(u()(p).add(1,"d").format("YYYY-MM-DD")),className:"btn btn-secondary fw-bold border-white bg-white text-dark mt-2",style:{marginLeft:10},children:"\u540e\u4e00\u5929"}),Object(d.jsx)("div",{className:"mt-3",children:g.a.keys(g.a.countBy(s,(function(e){return g.a.trim(e.category)}))).filter((function(e){return e})).map((function(e){return Object(d.jsxs)("span",{className:"badge bg-light text-secondary",style:{verticalAlign:"text-bottom",marginLeft:5},children:[e," ",g.a.countBy(s,(function(e){return g.a.trim(e.category)}))[e]]},e)}))})]}),Object(d.jsx)("div",{className:"container mt-4",children:x?Object(d.jsx)("div",{className:"text-center",children:Object(d.jsx)("div",{className:"spinner-border",role:"status",children:Object(d.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):Object(d.jsx)("ol",{children:s.map((function(e){return Object(d.jsxs)("li",{className:"hot-item",children:[Object(d.jsxs)("p",{className:"fs-6",children:[Object(d.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",children:e.title}),Object(d.jsx)("span",{className:"badge bg-secondary",style:{verticalAlign:"text-bottom",marginLeft:5},children:g.a.trim(e.category)}),e.ads&&Object(d.jsx)("span",{className:"badge bg-danger",style:{verticalAlign:"text-bottom",marginLeft:5},children:"\u63a8\u5e7f"}),e.hot&&Object(d.jsxs)("mark",{className:"text-muted",style:{marginLeft:5},children:["\u70ed\u5ea6: ",e.hot]})]}),Object(d.jsx)("p",{className:"text-secondary",style:{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"},children:e.description||"\u6682\u65e0\u63cf\u8ff0"})]},e.title)}))})})]})}var p=function(){return Object(d.jsxs)(l.c,{children:[Object(d.jsx)(l.a,{exact:!0,path:"/",children:Object(d.jsx)(o,{})}),Object(d.jsx)(l.a,{path:"/hots",children:Object(d.jsx)(O,{})})]})},N=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,37)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),s(e),r(e)}))};r.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(i.a,{children:Object(d.jsx)(p,{})})}),document.getElementById("root")),N()}},[[36,1,2]]]);
//# sourceMappingURL=main.7d8b6da0.chunk.js.map