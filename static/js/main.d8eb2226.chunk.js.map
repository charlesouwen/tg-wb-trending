{"version":3,"sources":["pages/home/index.js","pages/hots/index.jsx","App.js","reportWebVitals.js","index.js"],"names":["Home","className","style","width","justifyContent","target","rel","href","to","marginLeft","Hots","query","URLSearchParams","useLocation","search","match","useRouteMatch","useState","hots","setHots","loading","setLoading","date","get","_date","dayjs","format","fetchHots","a","fetch","res","json","data","useEffect","subtract","isBefore","url","add","isAfter","role","map","item","title","verticalAlign","category","whiteSpace","textOverflow","overflow","description","App","exact","path","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"gNA4CeA,MA1Cf,WACE,OACE,qBAAKC,UAAU,+CAAf,SACE,qBAAKA,UAAU,uCAAuCC,MAAO,CAAEC,MAAO,OAAQC,eAAgB,UAA9F,SACE,uBAAMH,UAAU,OAAhB,UACE,sEACA,oBAAGA,UAAU,OAAb,4IAEE,mBACEI,OAAO,SACPC,IAAI,aACJC,KAAK,0BACLN,UAAU,cAJZ,0BAFF,oCAYA,oBAAGA,UAAU,OAAb,UACE,mBACEI,OAAO,SACPC,IAAI,aACJC,KAAK,0CACLN,UAAU,8BAJZ,oBASA,cAAC,IAAD,CACEO,GAAG,QACHP,UAAU,sCACVC,MAAO,CAAEO,WAAY,OAHvB,qC,uDCnBG,SAASC,IACtB,IAAMC,EANC,IAAIC,gBAAgBC,cAAcC,QAOnCC,EAAQC,cAFe,EAGLC,mBAAS,IAHJ,mBAGtBC,EAHsB,KAGhBC,EAHgB,OAICF,oBAAS,GAJV,mBAItBG,EAJsB,KAIbC,EAJa,KAKvBC,EAAOX,EAAMY,IAAI,QACjBC,EAAQF,EAAOG,IAAMH,GAAMI,OAAO,cAAgBD,MAAQC,OAAO,cACjEC,EAAS,uCAAG,8BAAAC,EAAA,6DAChBP,GAAW,GADK,SAEEQ,MAAM,GAAD,OAXf,mDAWe,gBAAeL,EAAf,UAFP,cAEVM,EAFU,gBAGGA,EAAIC,OAHP,OAGVC,EAHU,OAIhBb,EAAQa,GACRX,GAAW,GALK,2CAAH,qDAYf,OAJAY,qBAAU,WACRN,MAEC,CAACH,IAEF,sBAAKvB,UAAU,gBAAf,UACE,0BAASA,UAAU,sBAAnB,UACE,oBAAIA,UAAU,qBAAd,SAAoCuB,IACpC,oBAAIvB,UAAU,WAAd,uCACEwB,IAAMD,GAAOU,SAAS,EAAG,KAAKC,SAASV,IAAM,gBAAkB,cAAC,IAAD,CAC/DjB,GAAE,UAAKO,EAAMqB,IAAX,iBAAuBX,IAAMD,GAAOU,SAAS,EAAG,KAAKR,OAAO,eAC9DzB,UAAU,iEAFqD,iCAM/DwB,IAAMD,GAAOa,IAAI,EAAG,KAAKC,QAAQb,QAAY,cAAC,IAAD,CAC7CjB,GAAE,UAAKO,EAAMqB,IAAX,iBAAuBX,IAAMD,GAAOa,IAAI,EAAG,KAAKX,OAAO,eACzDzB,UAAU,iEAAiEC,MAAO,CAAEO,WAAY,IAFnD,mCAOjD,qBAAKR,UAAU,iBAAf,SACGmB,EACG,qBAAKnB,UAAU,cAAf,SACA,qBAAKA,UAAU,iBAAiBsC,KAAK,SAArC,SACE,sBAAMtC,UAAU,kBAAhB,4BAGF,6BACDiB,EAAKsB,KAAI,SAAAC,GAAI,OACZ,qBAAqBxC,UAAU,WAA/B,UACE,oBAAGA,UAAU,OAAb,UACE,mBAAGM,KAAMkC,EAAKL,IAAK/B,OAAO,SAASC,IAAI,sBAAvC,SACGmC,EAAKC,QAER,sBAAMzC,UAAS,qBAAwBC,MAAO,CAAEyC,cAAe,cAAelC,WAAY,GAA1F,SAAgGgC,EAAKG,cAEvG,mBAAG3C,UAAU,iBAAiBC,MAAO,CAAE2C,WAAY,SAAUC,aAAc,WAAYC,SAAU,UAAjG,SAA8GN,EAAKO,aAAe,+BAP3HP,EAAKC,iBCvCXO,MAdf,WACE,OACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOC,OAAK,EAACC,KAAK,IAAlB,SACE,cAAC,EAAD,MAGF,cAAC,IAAD,CAAOA,KAAK,QAAZ,SACE,cAACzC,EAAD,UCAO0C,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,OCAdQ,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,UACE,cAAC,EAAD,QAGJC,SAASC,eAAe,SAM1Bb,M","file":"static/js/main.d8eb2226.chunk.js","sourcesContent":["import { Link } from 'react-router-dom'\n\nfunction Home() {\n  return (\n    <div className=\"d-flex vh-100 text-center text-dark bg-white\">\n      <div className=\"d-flex h-100 p-3 mx-auto flex-column\" style={{ width: '42em', justifyContent: 'center' }}>\n        <main className=\"px-3\">\n          <h1>微博热搜聚合</h1>\n          <p className=\"lead\">\n            使用github action聚合微博热搜，每小时定时执行发送到\n            <a\n              target=\"_blank\"\n              rel=\"noreferrer\"\n              href=\"https://t.me/weibo_hots\"\n              className=\"text-danger\"\n            >\n              telegram bot\n            </a>\n            并存档至github\n          </p>\n          <p className=\"lead\">\n            <a\n              target=\"_blank\"\n              rel=\"noreferrer\"\n              href=\"https://github.com/xiadd/tg-wb-trending\"\n              className=\"btn btn-lg btn-dark fw-bold\"\n            >\n              Github\n            </a>\n\n            <Link\n              to=\"/hots\"\n              className=\"btn btn-lg btn-outline-dark fw-bold\"\n              style={{ marginLeft: '1em' }}\n            >\n              演示\n            </Link>\n          </p>\n        </main>\n      </div>\n    </div>\n  )\n}\n\nexport default Home;\n","import { useState, useEffect } from \"react\";\nimport { Link, useLocation, useRouteMatch } from 'react-router-dom'\nimport dayjs from 'dayjs'\nimport \"./index.css\";\n\nfunction useQuery() {\n  return new URLSearchParams(useLocation().search);\n}\n\nconst URL = \"https://cdn.jsdelivr.net/gh/xiadd/tg-wb-trending\"\n\nexport default function Hots() {\n  const query = useQuery()\n  const match = useRouteMatch()\n  const [hots, setHots] = useState([]);\n  const [loading, setLoading] = useState(true)\n  const date = query.get('date')\n  const _date = date ? dayjs(date).format('YYYY-MM-DD') : dayjs().format('YYYY-MM-DD')\n  const fetchHots = async () => {\n    setLoading(true)\n    const res = await fetch(`${URL}/api/${_date}.json`);\n    const data = await res.json();\n    setHots(data);\n    setLoading(false)\n  };\n\n  useEffect(() => {\n    fetchHots()\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [_date]);\n  return (\n    <div className=\"hot-container\">\n      <section className=\"page-header bg-dark\">\n        <h1 className=\"hot-date font-bold\">{_date}</h1>\n        <h5 className=\"hot-desc\">微博热搜</h5>\n        {!dayjs(_date).subtract(1, 'd').isBefore(dayjs('2020-12-27')) && <Link\n          to={`${match.url}?date=${dayjs(_date).subtract(1, 'd').format('YYYY-MM-DD')}`}\n          className=\"btn btn-secondary fw-bold border-white bg-white text-dark mt-2\"\n        >\n          前一天\n        </Link>}\n        {!dayjs(_date).add(1, 'd').isAfter(dayjs()) && <Link\n          to={`${match.url}?date=${dayjs(_date).add(1, 'd').format('YYYY-MM-DD')}`}\n          className=\"btn btn-secondary fw-bold border-white bg-white text-dark mt-2\" style={{ marginLeft: 10 }}\n        >\n          后一天\n        </Link>}\n      </section>\n      <div className=\"container mt-4\">\n        {loading\n          ? <div className=\"text-center\">\n            <div className=\"spinner-border\" role=\"status\">\n              <span className=\"visually-hidden\">Loading...</span>\n            </div>\n          </div>\n          : <ul>\n          {hots.map(item => (\n            <li key={item.title} className=\"hot-item\">\n              <p className=\"fs-6\">\n                <a href={item.url} target=\"_blank\" rel=\"noopener noreferrer\">\n                  {item.title}\n                </a>\n                <span className={`badge bg-secondary`} style={{ verticalAlign: 'text-bottom', marginLeft: 5 }}>{item.category}</span>\n              </p>\n              <p className=\"text-secondary\" style={{ whiteSpace: 'nowrap', textOverflow: 'ellipsis', overflow: 'hidden' }}>{item.description || '暂无描述'}</p>\n            </li>\n          ))}\n        </ul>}\n      </div>\n    </div>\n  );\n}\n","import { Switch, Route } from 'react-router-dom'\nimport Home from './pages/home'\nimport Hots from './pages/hots'\n\nfunction App() {\n  return (\n    <Switch>\n      <Route exact path=\"/\">\n        <Home />\n      </Route>\n\n      <Route path=\"/hots\">\n        <Hots />\n      </Route>\n    </Switch>\n  )\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter as Router } from 'react-router-dom'\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <App />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}